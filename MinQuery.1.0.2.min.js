"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_inherentStaticKeys,$mq_config={pageEvents:"onLoad,onReady,onShow,onHide,onUnload,onPullDownRefresh,onReachBottom,onShareAppMessage".split(","),appEvents:"onLaunch,onShow,onError,onHide".split(","),inherentStaticKeys:(_inherentStaticKeys={$id:["$id","To store element,whitch selected by id!"],$cs:["$cs","To store element,whitch selected by data-min-class!"],$window:["$window","To store system infomation."],$data:["$data","To store custom isolate data!"],$bind:["$bind","A unified bind[event] handler."],$catch:["$catch","A unified catch[event] handler."],$class:["$class","To manage the element class string! Access method: $id/$cs.elementID/mClass/mClass.$class"],$hoverClass:["$hoverClass","To manage the element hover-class string! Access method: $id/$cs.elementID/mClass.$hoverClass"],$attr:["$attr","To manage the element multiple attributes value! Access method: $id/$cs.elementID/mClass.$attr.disabled;"],$cf:["$cf","To manage the Min App View Plugin's configuration! Access method: $id/$cs.elementID/mClass.$attr.disabled;"],$style:["$style","To manage the element style string! Access method: $id/$cs.elementID/mClass.$style;"],$cssAnimation:["$cssAnimation","To manage the element css animation string! Access method: $id/$cs.elementID/mClass.$cssAnimation;"]},_defineProperty(_inherentStaticKeys,"$data",["$data","To manage the element multiple custom data object! Access method: $id/$cs.elementID/mClass.$data.imageSrc;"]),_defineProperty(_inherentStaticKeys,"$children",["$children","To mark children elements,whitch are wraped by this element! Not recommend to access!"]),_defineProperty(_inherentStaticKeys,"$animation",["$animation","To manage the element animation object!Access method: $id/$cs.elementID/mClass.$animation;"]),_defineProperty(_inherentStaticKeys,"$events",["$events","To manage the element events bank route! Not recommend to access!"]),_defineProperty(_inherentStaticKeys,"$selectorType","To cache the element selector type!"),_defineProperty(_inherentStaticKeys,"$selectorName","To cache the element selector name!"),_inherentStaticKeys),selectorsBank:{"#":["$id",!0,"all"],".":["$cs",!0,"all"],"*":["$all",!0,"all"],window:["$window",!1],data:["$data",!0,"change"],page:["$page",!0,"load,ready,show,hide,unload,pulldownrefresh,reachbottom,shareappmessage"],app:["$app",!0,"launch,show,error,hide"]},getElementInitialData:function(){return{$selectorType:"",$selectorName:"",$class:"",$hoverClass:"",$attr:{},$cf:{},$style:"",$data:{},$children:[],$cssAnimation:"",$animation:void 0,$events:{}}}},wxMethodsParamsConfig=[{name:"request",param_def:[["url"]],param_nor:[["data","object|string"],["header","object",{"content-type":"application/json"}],["method"],["dataType","string","json"]],agent_call:function(e,t){!!t.method&&(t.method=t.method.toUpperCase()),e(t)}},{name:"uploadFile",param_def:[["url"],["filePath"],["name"]],param_nor:[["header","object"],["formData","object"]]},{name:"downloadFile",param_def:[["url"]],param_nor:[["header","object"]]},{name:"connectSocket",param_def:[["url"]],param_nor:[["data","object"],["header","object"],["method"]]},{name:"onSocketOpen"},{name:"onSocketError"},{name:"sendSocketMessage",param_def:[["data","string|uint8array"]],param_nor:[]},{name:"onSocketMessage"},{name:"closeSocket"},{name:"onSocketClose"},{name:"chooseImage",param_def:[["count","number"]],param_nor:[["sizeType","array"],["sourceType","array"]]},{name:"previewImage",param_def:[["urls","array"]],param_nor:[["current"]]},{name:"getImageInfo",param_def:[["src"]],param_nor:[]},{name:"startRecord",param_def:[],param_nor:[]},{name:"stopRecord",param_def:[["delay","number"]],agent_call:function(e,t){setTimeout(function(){delete t.delay,e(t)},t.delay?t.delay:0)}},{name:"playVoice",param_def:[["filePath"]],param_nor:[]},{name:"pauseVoice"},{name:"stopVoice",param_def:[["delay","number"]],agent_call:function(e,t){setTimeout(function(){delete t.delay,e(t)},t.delay?t.delay:0)}},{name:"getBackgroundAudioPlayerState",param_def:[],param_nor:[]},{name:"playBackgroundAudio",param_def:[["dataUrl"]],param_nor:[["title"],["coverImgUrl"]]},{name:"pauseBackgroundAudio"},{name:"seekBackgroundAudio",param_def:[["position"]],param_nor:[]},{name:"stopBackgroundAudio"},{name:"onBackgroundAudioPlay"},{name:"onBackgroundAudioPause"},{name:"onBackgroundAudioStop"},{name:"chooseVideo",param_def:[],param_nor:[["sourceType","array"],["maxDuration","number"],["camera"]]},{name:"saveFile",param_def:[["tempFilePath"]],param_nor:[]},{name:"getSavedFileList",param_def:[],param_nor:[]},{name:"getSavedFileInfo",param_def:[["filePath"]],param_nor:[]},{name:"removeSavedFile",param_def:[["filePath"]],param_nor:[]},{name:"openDocument",param_def:[["filePath"]],param_nor:[]},{name:"setStorage",param_def:[["key"],["data","string|object"]],param_nor:[]},{name:"setStorageSync"},{name:"getStorage",param_def:[["key"]],param_nor:[]},{name:"getStorageSync"},{name:"getStorageInfo",param_def:[],param_nor:[]},{name:"getStorageInfoSync"},{name:"removeStorage",param_def:[["key"]],param_nor:[]},{name:"removeStorageSync"},{name:"clearStorage"},{name:"clearStorageSync"},{name:"getLocation",param_def:[["type"]],param_nor:[]},{name:"chooseLocation",param_def:[],param_nor:[]},{name:"openLocation",param_def:[["latitude","number"],["longitude","number"]],param_nor:[["scale","number"],["name"],["address"]]},{name:"getSystemInfo",param_def:[],param_nor:[]},{name:"getSystemInfoSync"},{name:"getNetworkType",param_def:[],param_nor:[]},{name:"onNetworkStatusChange"},{name:"onAccelerometerChange"},{name:"startAccelerometer",param_def:[],param_nor:[]},{name:"stopAccelerometer",param_def:[],param_nor:[]},{name:"onCompassChange"},{name:"startCompass",param_def:[],param_nor:[]},{name:"stopCompass",param_def:[["delay","number"]],param_nor:[],agent_call:function(e,t){setTimeout(function(){delete t.delay,e(t)},t.delay?t.delay:0)}},{name:"makePhoneCall",param_def:[["phoneNumber"]],param_nor:[]},{name:"scanCode",param_def:[],param_nor:[]},{name:"setClipboardData",param_def:[["data"]],param_nor:[]},{name:"getClipboardData",param_def:[],param_nor:[]},{name:"openBluetoothAdapter",param_def:[],param_nor:[]},{name:"closeBluetoothAdapter",param_def:[],param_nor:[]},{name:"getBluetoothAdapterState",param_def:[],param_nor:[]},{name:"onBluetoothAdapterStateChange"},{name:"startBluetoothDevicesDiscovery",param_def:[["services","array"]],param_nor:[]},{name:"stopBluetoothDevicesDiscovery",param_def:[],param_nor:[]},{name:"getBluetoothDevices",param_def:[["services","array"]],param_nor:[]},{name:"onBluetoothDeviceFound"},{name:"createBLEConnection",param_def:[["deviceId"]],param_nor:[]},{name:"closeBLEConnection",param_def:[["deviceId"]],param_nor:[]},{name:"onBLEConnectionStateChanged"},{name:"getBLEDeviceServices",param_def:[["deviceId"]],param_nor:[]},{name:"getBLEDeviceCharacteristics",param_def:[["deviceId"],["serviceId"]],param_nor:[]},{name:"readBLECharacteristicValue",param_def:[["deviceId"],["serviceId"],["characteristicId"]],param_nor:[]},{name:"writeBLECharacteristicValue",param_def:[["deviceId"],["serviceId"],["characteristicId"],["value","uint8array"]],param_nor:[]},{name:"notifyBLECharacteristicValueChanged",param_def:[["deviceId"],["serviceId"],["characteristicId"],["state","boolean"]],param_nor:[]},{name:"onBLECharacteristicValueChange"},{name:"showToast",param_def:[["title"]],param_nor:[["icon"],["image"],["duration","number"],["mask","boolean"]]},{name:"showLoading",param_def:[["title"]],param_nor:[["mask","boolean"]]},{name:"hideToast",param_def:[["delay","number"]],agent_call:function(e,t){setTimeout(function(){delete t.delay,e(t)},t.delay?t.delay:0)}},{name:"hideLoading",param_def:[["delay","number"]],agent_call:function(e,t){setTimeout(function(){delete t.delay,e(t)},t.delay?t.delay:0)}},{name:"showModal",param_def:[["title"],["content"]],param_nor:[["showCancel","boolean"],["cancelText"],["cancelColor"],["confirmText"],["confirmColor"]]},{name:"showActionSheet",param_def:[["itemList"]],param_nor:[["itemColor"]]},{name:"setNavigationBarTitle",param_def:[["title"]],param_nor:[]},{name:"showNavigationBarLoading"},{name:"hideNavigationBarLoading"},{name:"navigateTo",param_def:[["url"]],param_nor:[]},{name:"redirectTo",param_def:[["url"]],param_nor:[]},{name:"switchTab",param_def:[["url"]],param_nor:[]},{name:"navigateBack"},{name:"stopPullDownRefresh"},{name:"login",param_def:[],param_nor:[]},{name:"checkSession",param_def:[],param_nor:[]},{name:"getUserInfo",param_def:[["withCredentials","boolean"]],param_nor:[]},{name:"requestPayment",param_def:[["timeStamp"],["nonceStr"],["package"],["signType"],["paySign"]],param_nor:[]},{name:"chooseAddress",param_def:[],param_nor:[]},{name:"addCard",param_def:[["cardList","array"]],param_nor:[]},{name:"openCard",param_def:[["cardList","array"]],param_nor:[]},{name:"openSetting",param_def:[],param_nor:[]},{name:"base64ToArrayBuffer"},{name:"arrayBufferToBase64"}],version="2.1.2",arr=[],_slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},typeInitial={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,rtrim=/\s/g,_classTypeInitial=[!1,0,"",function(){},[],Date.now(),new RegExp,{},new Error,0];"Boolean Number String Function Array Date RegExp Object Error Uint8Array".split(" ").forEach(function(e,t){var n=e.toLowerCase();class2type["[object "+e+"]"]=n,typeInitial[n]=_classTypeInitial[t]});var _$={error:function(e){},noop:function(){},isFunction:function(e){return"function"===_$.type(e)},isArraylike:function(e){var t=e.length,n=_$.type(e);return"function"!==n&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)},isArray:Array.isArray,isNumeric:function(e){return!_$.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===_$.type(e)&&!(e.constructor&&!hasOwn.call(e.constructor.prototype,"isPrototypeOf"))},isString:function(e){return"string"==typeof e},isEmpty:function(e){return"undefined"==typeof e||null===e||""==_$.trim(e+"")},isUndefined:function(e){return"undefined"==typeof e},isEmptyObject:function(e){var t=void 0;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"===("undefined"==typeof e?"undefined":_typeof(e))||"function"==typeof e?class2type[toString.call(e)]||"object":"undefined"==typeof e?"undefined":_typeof(e)},recoveryObject:function(e,t,n){var a=void 0;if(_$.isPlainObject(e)||n&&_$.isArray(e))for(a in e)a in e||a in t?!(a in e)&&a in t?delete e[a]:e[a]=t[a]:n&&(_$.isPlainObject(e[a])||n&&_$.isArray(e[a]))?_$.recoveryObject(e[a],t[a],n):e[a]=t[a]},each:function(e,t,n){var a=void 0,i=0,r=e.length,o=_$.isArraylike(e);if(n){if(o)for(;i<r&&(a=t.apply(e[i++],n),a!==!1););else for(i in e)if(a=t.apply(e[i],n),a===!1)break}else if(o)for(;i<r&&(a=t.call(e[i],i,e[i++]),a!==!1););else for(i in e)if(a=t.call(e[i],i,e[i]),a===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(rtrim,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(_$.isArraylike(Object(e))?_$.merge(n,"string"==typeof e?[e]:e):push.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:indexOf.call(t,e,n)},merge:function(e,t){for(var n=+t.length,a=0,i=e.length;a<n;a++)e[i++]=t[a];return e.length=i,e},grep:function(e,t,n){for(var a=void 0,i=[],r=0,o=e.length,s=!n;r<o;r++)a=!t(e[r],r),a!==s&&i.push(e[r]);return i},map:function(e,t,n){var a=void 0,i=0,r=e.length,o=_$.isArraylike(e),s=[];if(o)for(;i<r;i++)a=t(e[i],i,n),null!=a&&s.push(a);else for(i in e)a=t(e[i],i,n),null!=a&&s.push(a);return concat.apply([],s)},toHump:function(e,t){var n=new RegExp((t?t:"-")+"(w)","g");return e.replace(n,function(e,t){return t.toUpperCase()})},humpToAny:function(e,t){return e.replace(/([A-Z])/g,(t?t:"-")+"$1").toLowerCase()},formatDate:function(e,t){if(!(e instanceof Date||"number"==typeof e))return e;"number"==typeof e&&(e=new Date(e));var n={"m+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"i+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in n)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return t},now:Date.now,when:Thenjs},_$_proto_={},$extend=function e(){var t=void 0,n=void 0,a=void 0,i=void 0,r=void 0,o=void 0,s=arguments[0]||{},c=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[c]||{},c++),"object"===("undefined"==typeof s?"undefined":_typeof(s))||_$.isFunction(s)||(s={}),c===l&&(s=this,c--);c<l;c++)if(null!=(t=arguments[c]))for(n in t)a=s[n],i=t[n],s!==i&&(u&&i&&(_$.isPlainObject(i)||(r=_$.isArray(i)))?(r?(r=!1,o=a&&_$.isArray(a)?a:[]):o=a&&_$.isPlainObject(a)?a:{},s[n]=e(u,o,i)):void 0!==i&&(s[n]=i));return s},$analysisDataEngine=function(e,t,n){if(_$.isString(e)&&(e=this[e]),e){var a=function(){if(!t)return{v:e};var a=!1,i={};if(_$.isString(t)&&_$.isUndefined(n)&&(a=!0,i[t]={}),!a&&_$.isUndefined(n)&&!_$.isPlainObject(t)||!_$.isUndefined(n)&&!_$.isString(t))return{v:e};a||(_$.isPlainObject(t)?i=t:i[t]=n);var r=function(e,t,n){return!!e[t]||!a&&(e[t]=n,!0)},o=void 0,s=void 0,c=void 0,l=void 0,u=void 0,f=void 0,d=void 0,p=function(){var t=e;o=f.split("."),u=i[f];e:for(d=0;d<o.length;d++)if(c=o[d],""!==c.replace(/\s/g,""))if(s=c.match(/\[(.+?)\]/g)){if("]"!==c[c.length-1])break e;if(l=c.replace(s.join(""),""),!r(t,l,[]))return{v:{v:void 0}};t=t[l],s.forEach(function(e,n){if(e=Array.from(e),e.shift(),e.pop(),e=e.join(""),d==o.length-1&&n==s.length-1){if(a)return t[e];t[e]=u}else{if(!r(t,e,[]))return;t=t[e]}})}else if(d==o.length-1){if(a)return{v:{v:t[c]}};t[c]=u}else{if(!r(t,c,{}))return{v:{v:void 0}};t=t[c]}};for(f in i){var h=p();if("object"===("undefined"==typeof h?"undefined":_typeof(h)))return h.v}}();if("object"===("undefined"==typeof a?"undefined":_typeof(a)))return a.v}},wxCalls="fail,success,complete,cancel".split(","),wxMethodsCallbackGenerate=function(e,t,n,a){if(!a&&(a=wx),"string"==typeof e&&e in a){!t&&(t={});var i={},r=void 0,o=void 0;for(r in wxCalls)o=wxCalls[r],_$.isFunction(o)?(t.indexOf(r)!==-1&&(i[r]=o),delete t[r]):i[r]=_$.noop;var s=void 0;_$.isPlainObject(t)&&$extend(t,{fail:function(e){"fail"in i&&i.fail(e)},success:function(e){"success"in i&&i.success(e)},complete:function(e){"complete"in i&&i.complete(e);var t=e.errMsg.split(":"),n=null,a=void 0;"ok"===t[1]?(delete e.errMsg,a=e):n=e,_$.isFunction(s)&&s(n,a)},cancel:function(e){"cancel"in i&&i.cancel(e)}}),_$.isFunction(n)?n(a[e],t):_$.isArray(t)?a[e].apply(null,t):a[e].call(null,t);var c=function(e){s=e};return wxCalls.forEach(function(e,t){c[e]=function(e){return function(t){return _$.isFunction(t)&&(i[e]=t),this}}(e)}),c}},_wxMethodsPackages={};_$.each(wxMethodsParamsConfig,function(e,t){t.name&&(_wxMethodsPackages[t.name]=function(e){var t=e.param_def,n=e.param_nor,a=void 0,i={};return a=_$.isArray(t)?_$.isArray(n)?t.concat(n):t:null,function(){var t=_slice.call(arguments),n=_$.isArray(a),r="string",o=!1,s="",c=void 0,l=t[0];return n?(_$.each(a,function(e,t){c=a[e],s=c[2],_$.isUndefined(s)||(i[t[0]]=s)}),_$.isPlainObject(l)?$extend(i,l):_$.each(t,function(e,t){return o=!1,!!(c=a[e])&&(r=c[1]?c[1]:"string",r=r.split("|"),_$.each(r,function(e,n){if(_$.type(t)===n)return o=!0,!1}),o&&(i[c[0]]=t),void 0)})):i=t,wxMethodsCallbackGenerate(e.name,i,e.agent_call)}}(t))});var Thenjs=function(){function e(e,t){if(t=t||0,t>=e.length)return[];for(var n=e.length,a=Array(n-t);n-- >t;)a[n-t]=e[n];return a}function t(e,t){for(var n=[],a=0,i=e.length;a<i;a++)n.push(t(e[a],a,e));return n}function n(t,n){try{n.apply(null,e(arguments,2))}catch(e){t(e)}}function a(e,t){var a=arguments;b(function(){n.apply(null,a)})}function i(e){return null==e?e:"function"==typeof e.toThunk?e.toThunk():"function"==typeof e.then?function(t){e.then(function(e){t(null,e)},t)}:e}function r(e,n){return t(e,function(e,t,a){return function(i){n(i,e,t,a)}})}function o(e,t){var n=this,r=void 0;return e instanceof o?e:n instanceof o?(n._chain=0,n._success=n._parallel=n._series=null,n._finally=n._error=n._result=n._nextThen=null,arguments.length?(r=u(n,t),e=i(e),void(void 0===e?r():"function"==typeof e?a(r,e,r):r(null,e))):n):new o(e,t)}function s(){var t=this,a=e(arguments);t._result!==!1&&(!t._result&&t._chain&&t.debug.apply(t,["\nChain "+t._chain+": "].concat(e(a))),t._result=!1,n(function(e){e===a[0]?l(t,e):s.call(t._nextThen,e)},c,t,a))}function c(t,n){if(null==n[0])n[0]=null;else if(n=[n[0]],!t._finally)throw n[0];if(t._finally)return t._finally.apply(null,n);var a=t._success||t._parallel||t._series;return a?a.apply(null,e(n,1)):void(t._result=n)}function l(e,t){for(var a=e,i=e._error||e._finally;!i&&a._nextThen;)a=a._nextThen,i=a._error||a._finally;if(i)return n(function(e){s.call(a._nextThen,e)},i,t);if(o.onerror)return o.onerror(t);for(;a._nextThen;)a=a._nextThen;a._result=[t]}function u(e,t){function n(){return s.apply(e,arguments)}return n._isCont=!0,t&&(x.debug="function"==typeof t?t:_,e._chain=1),n}function f(e,t,n){var a=new o,i=u(a,n);return e(i,t),t?(t._nextThen=a,t._chain&&(a._chain=t._chain+1),t._result&&b(function(){s.apply(t,t._result)}),a):a}function d(t,n){return n._isCont?n:function(){var a=e(arguments);a.unshift(t),n.apply(null,a)}}function p(e,t){function n(t){function n(n,r){if(!(a<=0))return null==n?(i[t]=r,!--a&&e(null,i)):(a=0,void e(n))}return n._isCont=!0,n}if(!w(t))return e(g(t,"parallel"));var a=t.length,i=[];if(a<=0)return e(null,i);for(var r=0,o=a;r<o;r++)t[r](n(r))}function h(e,t){function i(u,f){return null!=u?e(u):(c[r]=f,++r>o?e(null,c):(s=--l>0?n:(l=v,a),void s(e,t[r],i)))}if(!w(t))return e(g(t,"series"));var r=0,o=t.length-1,s=void 0,c=[],l=v;return o<0?e(null,c):(i._isCont=!0,void t[0](i))}function m(e,t,n){function a(){if(!u)return r>=c?(u=!0,p(e,l)):void(s>=n||(s++,l.push(i())))}function i(){return new o(t[r++]).fin(function(t,n,i){return null!=n?(u=!0,e(n)):(s--,a(),void t(null,i))}).toThunk()}var r=0,s=0,c=t.length,l=[],u=!1;n=n>=1?Math.floor(n):Number.MAX_VALUE;do a();while(r<c&&s<n)}function _(){}function g(e,t){return new Error("The argument "+(e&&e.toString())+' in "'+t+'" is not Array!')}var v=100,y=Object.prototype.toString,$=Object.prototype.hasOwnProperty,b="function"==typeof setImmediate?setImmediate:function(e){setTimeout(e,0)},w=Array.isArray||function(e){return"[object Array]"===y.call(e)};o.defer=a,o.parallel=function(e,t){return new o(function(t){n(t,p,t,e)},t)},o.series=function(e,t){return new o(function(t){n(t,h,t,e)},t)},o.each=function(e,t,a){return new o(function(a){n(a,p,a,r(e,t))},a)},o.eachSeries=function(e,t,a){return new o(function(a){n(a,h,a,r(e,t))},a)},o.parallelLimit=function(e,t,n){return new o(function(n){m(n,e,t)},n)},o.eachLimit=function(e,t,n,a){return new o(function(a){m(a,r(e,t),n)},a)},o.nextTick=function(t){var n=e(arguments,1);b(function(){t.apply(null,n)})},o.onerror=function(e){throw e};var x=o.prototype;return x.fin=x.finally=function(e){return f(function(t,n){n._finally=d(t,e)},this)},x.then=function(e,t){return f(function(n,a){e&&(a._success=d(n,e)),t&&(a._error=d(n,t))},this)},x.fail=x.catch=function(t){return f(function(n,a){a._error=d(n,t),a._success=function(){var t=e(arguments);t.unshift(null),n.apply(null,t)}},this)},x.parallel=function(e){return f(function(t,n){n._parallel=function(n){p(t,e||n)}},this)},x.series=function(e){return f(function(t,n){n._series=function(n){h(t,e||n)}},this)},x.each=function(e,t){return f(function(n,a){a._parallel=function(a,i){p(n,r(e||a,t||i))}},this)},x.eachSeries=function(e,t){return f(function(n,a){a._series=function(a,i){h(n,r(e||a,t||i))}},this)},x.parallelLimit=function(e,t){return f(function(n,a){a._parallel=function(a){m(n,e||a,t)}},this)},x.eachLimit=function(e,t,n){return f(function(a,i){i._series=function(i,o){m(a,r(e||i,t||o),n)}},this)},x.toThunk=function(){var e=this;return function(t){e._result?(t.apply(null,e._result),e._result=!1):e._result!==!1&&(e._finally=e._error=t)}},x.inspect=function(){var e={};for(var t in this)$.call(this,t)&&(e[t]="_nextThen"===t?this[t]&&this[t]._chain:this[t]);return e},o.NAME="Thenjs",o.VERSION="2.0.3",o}(),styleToJson=function(e){var t={};e=e.split(";");for(var n=0;n<e.length;n++)if(""!==e[n].replace(/\s/g,"")){var a=e[n].split(":");2===a.length&&(t[a[0]]=a[1])}return t},jsonToStyle=function(e,t){if(void 0!==t){"string"==typeof t&&(t=styleToJson(t));for(var n in t)e[n]=t[n]}var a="";for(var i in e)a+=i+":"+e[i]+";";return a},styleExtend=function(){var e=arguments,t=arguments[0],n=arguments.length,a=1;for("string"==typeof t&&(t=styleToJson(t));a<n;)t=jsonToStyle(t,e[a++]);return t},hasClass=function(e,t){return"string"==typeof e?(e=e.split(" "),e.indexOf(t)):e instanceof Array?e.indexOf(t):-1},addClass=function(e,t){if("string"==typeof e)return e=e.split(" "),e.push(t),e.join(" ")},removeClass=function(e,t){if("string"==typeof e){var n=hasClass(e,t);return e=e.split(" "),n!==-1&&e.splice(n,1),e.join(" ")}},$csscontrol={styleToJson:styleToJson,jsonToStyle:jsonToStyle,styleExtend:styleExtend,hasClass:hasClass,addClass:addClass,removeClass:removeClass},$getSystemInfo=function(e){var t=void 0,n={};try{if(t=wx.getSystemInfoSync())return n.DPI=t.pixelRatio,n.width=t.windowWidth,n.height=t.windowHeight,n.language=t.language,n.versino=t.version,n.platform=t.platform,n.model=t.model,n.system=t.system,e=n,n}catch(t){wx.getSystemInfo({success:function(t){n.DPI=t.pixelRatio,n.width=t.windowWidth,n.height=t.windowHeight,n.language=t.language,n.versino=t.version,n.platform=t.platform,n.model=t.model,n.system=t.system,e=n}})}},$pageMQRegisterInstances={},$pageLoadedInstances={__loadedInstances__:{},get:function(e){return e?e in this.__loadedInstances__?this.__loadedInstances__[e]:void 0:this.__loadedInstances__},set:function(e,t){if(e){if(t&&t.expando&&e in this.__loadedInstances__)return;null===t?delete this.__loadedInstances__[e]:t.expando&&(this.__loadedInstances__[e]=t)}}},$windowInfo={},getSystemInfo=function(e){var t=void 0,n={};try{t=wx.getSystemInfoSync(),n.DPI=t.pixelRatio,n.width=t.windowWidth,n.height=t.windowHeight,n.language=t.language,n.versino=t.version,n.platform=t.platform,n.model=t.model,n.system=t.system,$extend(e,n)}catch(t){wx.getSystemInfo({success:function(t){n.DPI=t.pixelRatio,n.width=t.windowWidth,n.height=t.windowHeight,n.language=t.language,n.versino=t.version,n.platform=t.platform,n.model=t.model,n.system=t.system,$extend(e,n)}})}return n};getSystemInfo($windowInfo);var $globalEvents={__events__:{},classifyFilter:function(e,t,n){e instanceof Array&&e.forEach(function(e){e=Array.from(e),"!"===e[0]?(e.shift(),t[e.join("")]=e):n[e.join("")]=e})},register:function(e,t,n){e&&"string"==typeof t&&"function"==typeof n&&(e in this.__events__?t in this.__events__[e]||(this.__events__[e][t]=n):this.__events__[e]=_defineProperty({},t,n))},trigger:function(e,t,n,a){if(e){var i={},r={},o=void 0;this.classifyFilter(a,r,i);for(var s in this.__events__)s in r||(o=!!_$.isEmptyObject(i)||s in i,o&&s in this.__events__&&t in this.__events__[s]&&("function"==typeof n?this.__events__[s][t](n,{from:e,data:void 0}):this.__events__[s][t]({from:e,data:n})))}},distory:function(e,t){var n={},a={},i=!1;this.classifyFilter(t,a,n);for(var r in this.__events__)r in a||(i=!!_$.isEmptyObject(n)||r in n,i&&r in this.__events__&&e in this.__events__[r]&&delete this.__events__[r][e])}},wxAsyncApiHandler=function(e){var t=function(t){return e[t]={},{fail:function(n){return e[t].fail=n,this},error:function(e){return this.fail(e)},success:function(n){return e[t].success=n,this},complete:function(n){return e[t].complete=n,this},cancel:function(n){e[t].cancel=n}}},n=function(t,n,i){if(e[t]&&e[t][n]){var r=e[t][n];"function"==typeof r&&a(i,r,e[t])}},a=function(e,t,n){var a=e.errMsg.split(":");"ok"===a[1]&&200==e.statusCode?(n instanceof Object&&(t=n.success),t&&t(e.data,{errMsg:e.errMsg,statusCode:e.statusCode})):(n instanceof Object&&(t=n.fail),t&&t(e))};return{register:t,trigger:n,handleResponse:a}},rootMinQuery=function(e,t){if("string"!==!("undefined"==typeof e?"undefined":_typeof(e))){$windowInfo.DPI||$getSystemInfo($windowInfo);var n=function(e){return new l(e)};n.fn=n.prototype={MinQuery:version,constructor:n,selector:"",length:0,toArray:function(){return _slice.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:_slice.call(this)},pushStack:function(e){var t=_$.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e,t){return _$.each(this,e,t)},map:function(e){return this.pushStack(_$.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(_slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice},n.extend=n.fn.extend=$extend,n.extend(n,{expando:"MinQuery_"+(version+Math.random()).replace(/\D/g,""),pageName:e,isReady:!1,pageInjected:!1},_$),n.wxMethod=wxMethodsCallbackGenerate,n.extend(_wxMethodsPackages),n.extend({$window:$windowInfo,ajax:function(e,t,a){var i={};return n.isString(e)?(i.url=e,n.isFunction(t)?i.success=t:i.data=t,n.isFunction(a)&&(i.success=a)):n.isPlainObject(e)&&(i=e),_wxMethodsPackages.request(i)},get:function(e,t,a){return n.isFunction(t)&&(a=t,t={}),this.ajax({url:e,data:t,success:function(e){a&&a(e)}})},post:function(e,t,a){return n.isFunction(t)&&(a=t,t={}),this.ajax({url:e,data:t,method:"post",success:function(e){a&&a(e)}})}}),n.extend({inherentStaticKeys:$mq_config.inherentStaticKeys,registerInherentKey:function(e,t){if(n.isPlainObject(e)&&!t)for(var a in e)n.inherentStaticKeys[a]=[a,e[a]];else n.inherentStaticKeys[e]=[e,t]},selectorsBank:$mq_config.selectorsBank});var a=void 0;n.extend({page:function(e){return $pageLoadedInstances.get(e)},app:function(e){return!a&&(a=getApp()),n.dataProcessor(a,e)}}),n.extend({$apply:function(e,t){n.isFunction(e)&&e.apply(this,t)},$call:function(){var e=_slice.call(arguments),t=e[0];e.shift(),n.isFunction(t)&&t.apply(this,e)}}),n.extend({$on:function(e,t){$globalEvents.register(n.pageName,e,t.bind(this))},$off:function(e,t){$globalEvents.distory(e,t)},$trigger:function(e,t,a){$globalEvents.trigger(n.pageName,e,t,a)}}),n.fn.extend({registerEvent:function(e,t,a){return"function"==typeof t&&(a=t,t=void 0),this&&this.length>0&&this.each(function(){("page"!==this.$selectorName&&"app"!==this.$selectorName||e in n.pageInheritEventKVPair)&&o.set(this,"registerEvent."+e,a,t)}),this},on:function(e,t,a){return"function"==typeof t&&(a=t,t=void 0),this&&this.length>0&&this.each(function(){("page"!==this.$selectorName&&"app"!==this.$selectorName||e in n.pageInheritEventKVPair)&&o.set(this,"bind."+e,a,t)}),this},catch:function(e,t,n){return"function"==typeof t&&(n=t,t=void 0),this&&this.length>0&&this.each(function(){"page"!==this.$selectorName&&"app"!==this.$selectorName&&o.set(this,"catch."+e,n,t)}),this},bind:function(e,t,a){if("function"==typeof t&&(a=t,t=void 0),this&&this.length>0){var i=this;this.each(function(){if("page"===this.$selectorName||"app"===this.$selectorName){if(n.isReady)return;if(e in n.pageInheritEventKVPair)return;var r=i[0];!(e in r)&&(r[e]=function(e){n.isPlainObject(e)?e.$data=t:e={$event:e,$data:t},a.call(r,e)}),o.set(this,"bind."+e,a,t)}else o.set(this,"bind."+e,a,t)})}return this},trigger:function(e,t,a,i){"boolean"==typeof a&&(i=a),"function"==typeof t&&(a=t,t=void 0);var r=i===!0?"catch":"bind";if(this&&this.length>0){var s=void 0,c=void 0;this.each(function(){"page"===this.$selectorName||"app"===this.$selectorName?e in n.pageInheritEventKVPair||e in this&&n.isFunction(this[e])&&(c=this[e](t),n.isFunction(a)&&a({$data:t,$res:c})):(s=this.$events[r]?this.$events[r][e]:void 0,c=o.get(s,{},t),n.isFunction(a)&&a({$data:t,$res:c}))})}return this},off:function(e,t,a){"boolean"==typeof t&&(a=t);var i=a===!0?"catch":"bind";if(this&&this.length>0){this.each(function(){o.set(this,i+"."+e,!1),n.isFunction(t)&&t.call(this)})}return this},one:function(e,t,a,i){"boolean"==typeof a&&(i=a),"function"==typeof t&&(a=t,t=void 0);var r=i?"catch":"bind";return n(this)[r](e,t,function(){var t=e,i=a;n(this).off(t,function(){},r),i.apply(this,arguments)}),this}});var i={};n.pageInheritEventKVPair={};var r=void 0;n.inheritEventRegister=function(e,t){n.pageInheritEventList.indexOf(e)===-1&&n.pageInheritEventList.push(e);var a=Array.from(e);a.splice(0,2),a=a.join("").toLowerCase(),n.pageInheritEventKVPair[e]=a,n.pageInheritEventKVPair[a]=e,i[e]=function(a){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return n.isFunction(t)&&t.call(this,a,i),r.call(this,a,i)}},"app"===n.pageName?(n.pageInheritEventList=$mq_config.appEvents,r=function(e,t){t===n.pageInheritEventKVPair.launch&&$pageLoadedInstances.set(n.pageName,n),t===n.pageInheritEventKVPair.show&&(n.isReady=!0),t===n.pageInheritEventKVPair.hide&&($pageLoadedInstances.set(n.pageName,null),n.isReady=!1);var a=o.get(n.selectorsBank.app[0]+".app","bind."+n.pageInheritEventKVPair[t],e);return"[No Handler]"===a?o.get(n.selectorsBank.app[0]+".app","bind."+t,e):a}):(n.pageInheritEventList=$mq_config.pageEvents,r=function(e,a){a===n.pageInheritEventKVPair.load&&(n.pageInstance=this,n.pageInjected&&!!t&&n.recoveryObject(n.$pageInitObject.data,n.pageInstance.data,!0),n.querys=e,$pageLoadedInstances.set(n.pageName,n)),a===n.pageInheritEventKVPair.ready&&(n.isReady=!0),a===n.pageInheritEventKVPair.unload&&($pageLoadedInstances.set(n.pageName,null),n.pageInstance=null,n.querys=null,n.isReady=!1);var i=o.get(n.selectorsBank.page[0]+".page","bind."+n.pageInheritEventKVPair[a],e);return"[No Handler]"===i?o.get(n.selectorsBank.page[0]+".page","bind."+a,e):i}),n.each(n.pageInheritEventList,function(e,t){n.inheritEventRegister(t)});var o={set:function(e,t,a,i){if(!n.isUndefined(e)||n.isEmpty(t)){var r=e.$selectorType+"."+e.$selectorName,o=r+".$events."+t,s=r+"."+t,c=n.getData(o),l=t.split(".").indexOf("registerEvent")!==-1;if(c&&!l)a===!1?n.dataProcessor(n.eventManager,s+".active",!1):n.dataProcessor(n.eventManager,s+".active",!0);else if(!n.isEmpty(a)){if(d(o,[r,t]),n.dataProcessor(n.eventManager,r+".context",r),l){var u=n.dataProcessor(n.eventManager,s+".method");!u&&(u=[]),u.push(a),a=u}else n.dataProcessor(n.eventManager,s+".active",!0);n.dataProcessor(n.eventManager,s+".method",a),!!i&&n.dataProcessor(n.eventManager,s+".data",i)}}},get:function(e,t,a,i){e instanceof Array&&(a&&(i=a),t&&(a=t),t=e[1],e=e[0]);var r="[No Handler]";if(!e)return r;var o=n.getData(n.eventManager,e),s=!!o&&n.getData(o,t),c=!!o&&n.getData(o,"registerEvent."+t.split(".").pop()),l=[],u=0;return s&&s.active?(a&&(s.data&&(n.isPlainObject(a)?a.$data=s.data:a={$event:a,$data:s.data}),l[u++]=a),i&&(i instanceof Array?n.merge(l,i):l[u]=i),!!c&&c.method&&n.each(c.method,function(e,t){n.isFunction(t)&&t.apply(n.getData(o.context),l)}),s.method?s.method.apply(n.getData(o.context),l):r):r}};n.eventManager={$id:{},$cs:{},$page:{},$app:{},$window:{},$data:{}};var s={$bind:function(e){c(e,"bind")},$catch:function(e){c(e,"catch")}},c=function(e,t){var a=n.getData(e,"currentTarget.id"),i=n.getData(e,"target.id"),r=n.getData(e,"currentTarget.dataset.mClass"),s=n.getData(e,"target.dataset.mClass"),c=n.getData(e,"target.target"),l=a?a:i,u=r?r:s;l=l?l:c,"submit"===e.type&&n.extend(e,{form:function(e){return e?n.getData(this.detail,"value."+e):n.getData(this.detail,"value")}}),n.extend(e,{current:function(e){var t=this.currentTarget?this.currentTarget:this.target;return e?n.getData(t,e):t},data:function(e){var t=this.current("dataset");return e?t[e]:t}});var f=l?o.get(n.selectorsBank["#"][0]+"."+l,t+"."+e.type,e):"[No Handler]";
"[No Handler]"===f&&u&&o.get(n.selectorsBank["."][0]+"."+u,t+"."+e.type,e)};n.registeredElements=[],n.find=function(e){if(1!==e.length&&e in n.selectorsBank)return n.getData(n.selectorsBank[e][0]);var t=e[0],a=Array.from(e);a.shift();var i=a.join(""),r="",o="",s=void 0,c="";if(e.length>1&&t in n.selectorsBank)r=n.selectorsBank[t][0],c=r+"."+i,s=n.getData(c),o=i;else{if(1===e.length&&"$all"===n.selectorsBank[t][0]){var l=[];return n.each(n.registeredElements,function(e,t){l.push(n.getData(t))}),l}s=n.getData(e),c=o=e}if(s)return s;n.registeredElements.push(c);var u=$mq_config.getElementInitialData();return u.$selectorType=r,u.$selectorName=o,d(c,u),n.getData(c)},n.$pageInitObject="app"==e?{$selectorType:"$app",$selectorName:"app",data:{}}:{$pageIndicator:n.pageName,$selectorType:"$page",$selectorName:"page",data:{$id:{},$cs:{},$window:n.extend($windowInfo,{$selectorType:"$window",$selectorName:"window"}),$data:{},$attr:{}}};var l=function(e){if(!e)return this;if(n.isString(e)){for(var a=e.split(","),r=void 0,o=[],c=0;c<a.length;c++){var l=a[c];r={};var u=l.toLowerCase();"page"===u?(o.push(n.selectorsBank[u][0]),r[0]=n.$pageInitObject,r.length=1):"app"==u?(o.push(n.selectorsBank[u][0]),"app"==n.pageName?r[0]=n.$pageInitObject:r[0]=n.page("app")("app")[0],r.length=1):"*"===l?(o.push(n.selectorsBank[l][0]),r=n.find(l)):"window"==u?(o.push(n.selectorsBank[u][0]),r[0]=n.find(u),r.length=1):"data"==u?(o.push(n.selectorsBank[u][0]),r[0]=n.find(u),r.length=1):"."==l[0]?(o.push(n.selectorsBank[l[0]][0]),r[0]=n.find(l),r.length=1):"#"==l[0]?(o.push(n.selectorsBank[l[0]][0]),r[0]=n.find(l),r.length=1):(o.push(""),r[0]=n.find(l),r.length=1),n.merge(this,r)}return this.selector=e,this.selectorType=o.join(","),this}if(n.isFunction(e)){if(n.pageInjected)return null;var f=e(n);return"app"===n.pageName?(n.extend(n.$pageInitObject,i),App(n.$pageInitObject)):(n.extend(n.$pageInitObject,s,i),Page(t?n.extend(!0,{},n.$pageInitObject):n.$pageInitObject)),n.pageInjected=!0,f}return n.makeArray(e,this)};l.prototype=n.prototype,n.extend($csscontrol),n.registerInherentKey({$__priv_keys__:"To cache the element private options!"});var u={priv_keys:"$__priv_keys__",get:function(e,t,a,i){var r=n.getData(e,this.priv_keys+"."+t);return r?r:a?this.set(e,t,a,i):void 0},set:function(e,t,n,a){if(e)return!e[this.priv_keys]&&(e[this.priv_keys]={}),a?(!e[this.priv_keys][t]&&(e[this.priv_keys][t]=[]),e[this.priv_keys][t].push(n)):e[this.priv_keys][t]=n,n},access:function(e,t,a,i){if(e){var r=e[this.priv_keys]?e[this.priv_keys]:e[this.priv_keys]={},o=!r[t];if(o)return n.isPlainObject(o)&&a?i?o[a]=i:o=a:n.isArray(o)&&(a&&!i?o.push(a):a&&i?o.push(_defineProperty({},a,i)):null),o}},clear:function(e,t){e&&n.dataProcessor(e,this.priv_keys+"."+t,null)}};n.extend({timeOut:function(e,t,a){return setTimeout(function(){(this.still||!this.still&&n.isReady)&&n.isFunction(this.call)&&this.call()}.bind({call:e,still:a}),t)}}),n.fn.extend({eleAttrAccess:function(e,t,a,i){var r=0,o=this.length,s=void 0;for(!n.isFunction(t)&&(t=function(){});r<o;){s=this[r++];var c=s.$selectorType+"."+s.$selectorName+"."+e+"."+a,l=s[e];"page"===s.$selectorName?(c=e+"."+a,l=s.data[e]):"app"!==n.pageName&&"app"===s.$selectorName&&(l=n.page("app").$pageInitObject.data,a=c);var u=t.call(s,c,l,a,i);if(u&&u.$__force_return__)return u.returns;if(!u||!u.$__force_continue__){if("string"!=typeof a)return;if(!i)return l?n.getData(l,a):void 0;d(c,i)}}return this}}),n.fn.extend({data:function(e,t){return this.eleAttrAccess("$data",null,e,t)},attr:function(e,t){return this.eleAttrAccess("$attr",null,e,t)},config:function(e,t){return this.eleAttrAccess("$cf",function(e,t,a,i){var r=u.get(this,"$cf-configuration"),o=!1,s=!1;if(n.isString(a)&&i||(o=n.isPlainObject(a))){if(o?$.each(a,function(t,n){t=""+e}):a=""+e,r){var c=n.setData(a,i,!0,!0),l=void 0;for(l in c)r[l]=c[l]}else u.set(this,"$cf-configuration",n.setData(a,i,!0,!0));return{$__force_continue__:!0}}if(!a||(s=n.isString(a))&&!i){var f={};return s?f=r[a].get():(delete r.__length__,delete r.__paths__,n.each(r,function(e,t){f[e]=function(e){var n=t;return e?void n.set(e):n.get()}})),{$__force_return__:!0,returns:f}}},e,t)},delay:function(e){return"number"==typeof e&&this.each(function(){u.set(this,"$animation-delay",e)}),this},stop:function(e){return this.each(function(){var t=u.get(this,"$animation-queue-time"),a=u.get(this,"$animation-queue-func");t instanceof Array&&(n.each(t,function(e,t){clearTimeout(t),t=null}),u.clear(this,"$animation-queue")),e&&(u.set(this,"$animation-to-end",e),a instanceof Array&&(n.each(a,function(e,t){n.isFunction(t)&&t()}),u.clear(this,"$animation-to-end")))}),this},animation:function(e,t,a,i){var r={origin:"50% 50%",speed:1e3,easing:"ease",delay:0};"number"==typeof t?r.speed=t:n.isPlainObject(t)?n.extend(r,t):null,n.isString(a)&&(r.easing=a),n.isString(i)&&(r.origin=i);var o={transformOrigin:r.origin,duration:r.speed,timingFunction:r.easing,delay:r.delay};return this.each(function(){var t=this.$animationObject?this.$animationObject:this.$animationObject=wx.createAnimation(o);e.call(t,t),t.step(o);var a=u.get(this,"$animation-delay")||0;u.set(this,"$animation-delay",0);var i=function(){u.get(this.ele,"$animation-to-end")&&(this.stepCF.delay=0,this.stepCF.duration=0,this.aniData.step(this.stepCF)),d(this.eleRoute,this.aniData.export())}.bind({aniData:t,stepCf:o,eleRoute:this.$selectorType+"."+this.$selectorName+".$animation",ele:this});u.set(this,"$animation-queue-time",n.timeOut(i,a),!0),u.set(this,"$animation-queue-func",i,!0)}),this},cssAnimation:function(e,t,a,i){var r=void 0,o=function(e){if(!n.isString(e))return"ease";var t=/cubic-bezier\(([^*]+)\)/g.exec(e);if(t&&2===t.length){var a=t[1].split(",");return 4===a.length?t[0]:"ease"}return 4===e.split(",").length?"cubic-bezier("+e+")":"ease"};return this.each(function(){r=n.isFunction(e)?e():e;var s="transition: "+(n.isArray(i)?i.join(" "):"all")+" "+("number"==typeof t?t:200)+"ms "+o(a)+";";r=n.styleExtend(r,s);var c=u.get(this,"$animation-delay")||0;u.set(this,"$animation-delay",0);var l=function(){u.get(this.ele,"$animation-to-end")&&(this.aniStyle=n.styleExtend(this.aniStyle,"transition: none;")),n(this.ele).css(this.aniStyle,void 0,"$cssAnimation")}.bind({ele:this,aniStyle:r});u.set(this,"$animation-queue-time",n.timeOut(l,c),!0),u.set(this,"$animation-queue-func",l,!0)}),this},css:function(e,t,a){for(var i=0,r=this.length,o=void 0;i<r;){o=this[i++];var s=a?o[a]:o.$style;if(s=n.styleExtend(s,"transition: none;"),n.isString(e)&&n.isString(t))s=n.styleExtend(s,e+":"+t);else if(n.isPlainObject(e)&&!t)s=n.styleExtend(s,e);else{if(!n.isString(e)||e.indexOf(":")===-1)return s?s[e]:void 0;s=n.styleExtend(s,e)}d(o.$selectorType+"."+o.$selectorName+"."+(a?a:"$style"),s)}return this},hasClass:function(e,t){for(var a=0,i=this.length,r=void 0;a<i;)return r=this[a++],n.isFunction(e)&&(e=e.call(r)),n.hasClass(r[t?"$hoverClass":"$class"],e)!==-1},addClass:function(e,t){return this.each(function(){n.isFunction(e)&&(e=e.call(this)),n(this).hasClass(e)||(e=n.addClass(this.$class,e),d(this.$selectorType+"."+this.$selectorName+"."+(t?"$hoverClass":"$class"),e))}),this},removeClass:function(e,t){return this.each(function(){n.isFunction(e)&&(e=e.call(this)),e=n.removeClass(this.$class,e),d(this.$selectorType+"."+this.$selectorName+"."+(t?"$hoverClass":"$class"),e)}),this},toggleClass:function(e,t,a){return this.each(function(){if(t){if(n.isString(e)&&n.isString(t)){var i=n(this).hasClass(e,a),r=n(this).hasClass(t,a);i&&r?n(this).removeClass(t,a):i&&!r?(n(this).removeClass(e,a),n(this).addClass(t,a)):!i&&r?(n(this).removeClass(t,a),n(this).addClass(e,a)):n(this).addClass(e,a)}}else e&&(n(this).hasClass(e,a)?n(this).removeClass(e,a):n(this).hasClass(e,a))}),this},hasHover:function(e){return n(this).hasClass(e,!0)},addHover:function(e){return n(this).addClass(e,!0)},removeHover:function(e){return n(this).removeClass(e,!0)},toggleHover:function(e,t,a){return n(this).toggleClass(e,t,!0)}}),n.fn.extend({canvas:function(e,t){for(var a=0,i=this.length,r=void 0,o={};a<i;){r=this[a++];var s=r.$selectorName,c=n.isFunction(e),l=u.get(r,"$canvas-context"),f=!!e&&!c&&e.hasOwnProperty("canvasId")&&e.hasOwnProperty("actions")&&e.hasOwnProperty("path");if(f?(l=u.get(r,"$canvas-context",e),n.isFunction(t)&&t.call(l,l),l.canvasId?l.draw():wx.drawCanvas({canvasId:s,actions:l.getActions()})):(l=l?l:u.get(r,"$canvas-context",wx.createCanvasContext(s)),c&&(e.call(l,l),l.draw())),!(i>1))return l;o[r.$selectorName]=l}return _$.isEmptyObject(o)?this:o},video:function(){for(var e=0,t=this.length,a=void 0,i={};e<t;){a=this[e++];var r=a.$selectorName,o=n.video.call(a,r);if(!(t>1))return o;i[a.$selectorName]=o}return _$.isEmptyObject(i)?this:i},audio:function(e){for(var t=0,a=this.length,i=void 0,r={};t<a;){i=this[t++];var o=i.$selectorName,s=n.audio.call(i,o);if(n.isString(e)&&s.setSrc(e),!(a>1))return s;r[i.$selectorName]=s}return _$.isEmptyObject(r)?this:r},Map:function(){for(var e=0,t=this.length,a=void 0,i={};e<t;){a=this[e++];var r=a.$selectorName,o=n.Map.call(a,r);if(!(t>1))return o;i[a.$selectorName]=o}return _$.isEmptyObject(i)?this:i}}),n.extend({canvas:function(e,t){n.isFunction(e)&&(t=e,e=null);var a="$canvas-context-"+(e?e:n.now()),i=u.get(this,a,e?wx.createCanvasContext(e):wx.createContext());return n.isFunction(t)&&t.call(i,i),i},video:function(e){if(n.isString(e)){var t=u.get(this,"$video-context",wx.createVideoContext(e));return t.send=function(e){this.sendDanmu({text:e,color:n.randomColor()})},t}},audio:function(e){if(n.isString(e)){var t=u.get(this,"$audio-context",wx.createAudioContext(e));return t.start=function(){this.seek(0)},t}},Map:function(e){return u.get(this,"$Map-context",wx.createMapContext(e))},randomColor:function(){for(var e=[],t=0;t<3;++t){var n=Math.floor(256*Math.random()).toString(16);n=1==n.length?"0"+n:n,e.push(n)}return"#"+e.join("")}});var f={},d=function e(t,a,i,r){var o=0,s={__length__:0,__paths__:[]},c=void 0,l=void 0,u=void 0,d=void 0,h=void 0;if(n.isString(t)&&(t=_defineProperty({},t,a)),n.isPlainObject(t)){for(c in t){if(p(c,t[c]),""==n.trim(c))return;if(l=c.split("."),o++,r===!0)for(u in n.inherentStaticKeys)if(l.indexOf(u)!==-1)return;h=n.getData(c),h===t[c]&&delete t[c],d=l[l.length-1],f[l]=s[d]={__path__:c,get:function(e){return e="string"==n.type(e)||"number"==n.type(e)?"."+e:"",n.getData(this.__path__+e)},set:function(t,a){a||(a=t,t=null),t="string"==n.type(t)||"number"==n.type(t)?"."+t:"",e(this.__path__+t,a)},append:function(t,a){a?t="string"==n.type(t)||"number"==n.type(t)?"."+t:"":(a=t,t="");var i=void 0,r=this.__path__+t;i=n.getData(r),n.isArray(i)&&(i.push(a),e(r,i))},prepend:function(t,a){a?t="string"==n.type(t)||"number"==n.type(t)?"."+t:"":(a=t,t="");var i=void 0,r=this.__path__+t;i=n.getData(r),n.isArray(i)&&(i.unshift(a),e(r,i))},after:function(t,a,i){"number"===n.type(t)&&(i=a,a=t,t=null);var r=void 0,o=this.__path__+(t?"."+t:"");r=n.getData(o),n.isArray(r)&&(r.splice(a+1,0,i),e(o,r))},before:function(t,a,i){"number"===n.type(t)&&(i=a,a=t,t=null);var r=void 0,o=this.__path__+(t?"."+t:"");r=n.getData(o),n.isArray(r)&&(r.splice(a,0,i),e(o,r))},remove:function(t,a){"number"===n.type(t)&&(a=t,t=null);var i=void 0,r=this.__path__+(t?"."+t:"");i=n.getData(r),n.isArray(i)&&(i.splice(a,1),e(r,i))},clear:function(t,n){t&&!n&&(n=t,t=null),e(this.__path__+(t?"."+t:""),n?n:null)}},s.__length__=o,s.__paths__.push(d)}return _$.isEmptyObject(t)||(!!n.pageInstance&&n.pageInstance.setData(t),n.dataProcessor(n.$pageInitObject.data,t)),i!==!0&&1===s.__length__&&(s=s[s.__paths__[0]]),s}};n.extend({dataProcessor:$analysisDataEngine,getData:function(e,t){return"string"==typeof e&&(t=e,e=n.$pageInitObject.data),n.dataProcessor(e,t)},setData:function(e,t,a,i){return d(e,t,!!a&&a,"boolean"!==n.type(i)||!i)},dataAccess:function(e,t){if(n.isString(e)){var a=f[e];return t&&a.set(t),a}},watch:function(e,t,a){e&&(n.isPlainObject(e)&&e.__path__&&(e=e.__path__),this.__data_watchs[e]={path:e,call:t,isFuzzy:a})},__data_watchs:{}});var p=function(e,t){if(e)for(var a in n.__data_watchs){var i=n.__data_watchs[a];i.isFuzzy===!0?e.indexOf(i.path)!==-1&&i.call(t,n.getData(e),e):e===i.path&&i.call(t,n.getData(e),e)}};return n}};module.exports=wx.MinQuery={load:function(e,t){if("string"==typeof e&&(e=e.toLowerCase(),!(e in $pageMQRegisterInstances)))return $pageMQRegisterInstances[e]={registered:!0},rootMinQuery(e,t)},page:function(e){return $pageLoadedInstances.get(e)}};